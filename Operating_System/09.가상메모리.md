

## 가상 메모리

- 기계에 실제로 이용가능한 기억 자원을 이상적으로 추상화하여 더 큰 메모리처럼 보이게 만드는 것

- 각 프로그램에 실제 메모리 주소가 아닌 가상 메모리 주소를 주는 방식

- 보조기억장치(하드디스크) 일부를 주 기억 장치처럼 사용하는 것이다.

- 프로그램을 여러 개의 작은 `블록` 단위로 나누어 가상기억장치에 보관하고 프로그램 실행 시 요구되는 블록만 주기억장치에 불연속적으로 할당하여 처리함



<br>

**가상 메모리 사용 이점**

- 주기억장치의 용량보다 큰 프로그램 실행 가능

- 주기억장치 이용률을 높이고 다중 프로그래밍의 효율을 높임

- 메모리 용량 및 안정성을 보장한다.
	- 한정된 공간의 메모리만을 사용하는 것이 아닌 큰 용량의 가상메모리 공간을 활용하게 되어 프로세스들끼리 주 메모리에 대해 침범하여 오류를 발생시킬 여지를 대폭 줄일 수 있다.




### 가상 메모리 구현

**스와핑**

- 하나의 프로그램 전체를 주기억장치에 할당해 사용하다가 필요에 따라 다른 프로그램과 교체하는 기법
	- 주기억장치에 있는 프로그램이 보조기억장치로 이동되는 것
	- 보조기억장치에 있는 프로그램이 주기억장치로 이동되는 것
	- 가상메모리 페이징 기법으로 발전되었다.

**페이징 기법**

- 가상 메모리에 보관되어 있는 프로그램과 주기억장치의 영역을 동일한 크기로 나눈 후 나눠진 프로그램(페이지)을 동일하게 나눠진 주기억장치의 영역(페이지 프레임)에 적재시켜 실행하는 기법

- 논리 주소의 메모리를 고정된 크기의 페이지로 나누어 관리하는 기법

`페이지` : 프로그램을 일정한 크기로 나눈 단위

`페이지 프레임` : 페이지 크기로 일정하게 나누어진 주 기억장치의 단위

<br>

**세그먼테이션**

- 가상 메모리에 보관되어 있는 프로그램을 다양한 크기의 논리적인 단위로 나눈 후 주기억장치에 적재시켜 실행시키는 기법

- 세그먼테이션 기법 사용이유는 기억공간을 절약하기 위함임


`세그먼트` : 프로그램을 배열이나 함수 같은 논리적인 크기로 나눈 단위


<br>


**페이지 부재란?**

- 페이지 부재는 프로세스(프로그램)에게 필요한 페이지가 메인 메모리의 프레임 공간에 없는 현상을 말함

- 페이지 부재가 발생하면 메인 메모리에 필요한 페이지를 가져와야 되는데 만약 프레임 공간이 부족하다면 특정 프레임을 다시 디스크 스왑영역으로 내보내야 함

<br>

**페이지 교체 알고리즘**

- 페이지 부재가 발생했을 떄 가상 메모리의 필요한 페이지를 주기억장치에 적재해야되는데 이 때 주기억장치의 모든 페이지 프레임이 사용중이면 어떤 페이지 프레임을 선택해서 교체할 것인지를 정하는 기법을 말함


<br>

**FIFO**

- First In First Out

- 가장 먼저 들어온 페이지를 교체하는 알고리즘


**LRU**

- Least Recently Used

- 가장 오래 사용하지 않은 페이지를 교체하는 알고리즘

<br>

**OPT**

- OPTimal replacement

- 앞으로 가장 오랫동안 사용하지 않을 페이지를 교체하는 알고리즘

<br>

**NUR**

- Not Used Recently

- 최근에 사용하지 않은 페이지를 교체하는 알고리즘

- LRU 와 비슷하지만 페이지 사용시간을 기록하는 것이 아니라 참조비트와 변형비트를 활용하여 교체할 페이지를 찾아내는 것이다.
	- 적은 오버헤드로 좋은 성능을 낼 수 있음
	- 두 비트 다 0 이면 최우선 교체 고려 페이지가 됨
