


## item15. 클래스와 멤버의 접근 권한을 최소화하라


### 선요약

프로그램 요소 접근성은 가능한 최소한으로 하여 필요한 것만 골라 최소한으로 `public` 하게끔 API를 설계하자.

그 외에는 클래스, 인터페이스, 멤버가 의도치 않게 공개되는 일이 없도록 한다.

`불변객체`를 참조하는 `public static final` 필드 외에는 `public` 필드를 가지지 말자.



<br>

잘 설계된 컴포넌트는 모든 내부 구현을 숨겨 구현과 API를 깔끔하게 분리한다.

(캡슐화)API를 통해서만 다른 컴포넌트와 소통하며 서로의 내부 동작 방식에는 전혀 개의치 않는다.


### 정보은닉의 장점

- 시스템을 구성하는 컴포넌트들을 독립시켜서 개발,테스트,수정 등을 개별적으로 할 수 있게 해줌

- 시스템 개발속도를 높이고 관리 비용을 낮춰준다.

- 소프트웨어 재사용성을 높여준다.

- 큰 시스템 제작 난이도를 낮춰준다.


### 자바에서 정보은닉은

- 클래스, 인터페이스, 멤버의 **접근 제한자** 를 잘 활용하는 것이 핵심임

<br>


### 모든 클래스와 멤버의 접근성을 가능한 좁히자

- 소프트웨어가 올바로 동작하는 한 가장 낮은 접근 수준을 부여해야 한다는 것

> private: 멤버를 선언한 톱 레벨 클래스에서만 접근 가능

> package-private: 멤버가 소속된 패키지 안의 모든 클래스에서 접근 

> protected: 이 멤버를 선언한 클래스의 하위클래스와 패키지에서 접근 가능

<br>


### 패키지 외부에서 사용하지 않을 클래스와 인터페이스의 접근 수준을 제한하자

- API가 아닌 내부 구현이 되어 언제든 수정가능하다.

- 패키지 외부에서 사용할 필요가 없다면 `package-private` 로 선언

- 한 클래스에서만 사용하는 클래스나 인터페이스는 내부 `private static` 으로 중첩하여 사용해보자

- 테스트를 위해 클래스,인터페이스,멤버를 공개 API로 만들면 안된다. (private => public)



<br>

### public 클래스의 인스턴스는 되도록 public이 아니어야 한다.

- 필드가 가변 객체를 참조하거나 `final` 이 아닌 인스턴스를 `public` 으로 선언하면 그 필드에 담을 값을 제한할 힘을 잃는다. (불변성 보장 X)

- `thread-safe` 하지도 않다.
	- 필드가 수정될 때 다른 작업을 할 수 없다.

- `public static final` 상수는 괜찮음
	- 단 `기본 타입`이나 `불변 객체`를 참조할 것














