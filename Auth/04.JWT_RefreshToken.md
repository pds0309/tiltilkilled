


## 리프레시 토큰


<br>

### 액세스 토큰만 사용하면?


- 액세스 토큰의 유효기간이 너무 짧으면 사용자가 자주 인증해야 해서 비효율적이다.

- 액세트 토큰의 유효기간이 너무 길면 탈취 당했을 때 위험하다.


<br>

### Refresh Token

- 사용자 인증 시 `AccessToken` 과 함께 생성하고 사용자게에 건네준다.

- `RefreshToken` 은 Database 와 같은 안전한 곳에 저장한다.

- `AccessToken` 의 만료기간을 짧게 주고 만료되어도 재인증을 요구하지 않고 `RefreshToken` 이 있다면 재발급을 해준다.

<br>

정상적인 클라이언트라면 액세스 토큰의 유효기간이 지나도 리프레시 토큰을 활용하여 다시 액세스 토큰을 발급받아 사용할 수 있다.

사용자는 마치 계속해서 로그인 되어있는 것 같은 효과를 볼 수도 있다.

<br>

![refresh1](https://user-images.githubusercontent.com/76927397/168300052-f7b90396-6910-4b6a-ac17-964b84c14d61.JPG)


<br>


### 장점

-  Access Token 만 사용할 때 보다 훨씬 안전하고 서버에서 토큰 정보를 가지고 있기 때문에 원할 때 만료시킬 수 있다.


<br>

### 단점

- Token 검증 프로세스가 복잡해진다.

- Access Token 만료될 때 재발급 요청을 해야하는 등 http 요청 횟수가 증가해 서버 자원 낭비 시킬 수 있다.



### 단점