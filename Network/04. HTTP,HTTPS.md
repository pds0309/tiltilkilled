

## HTTP란?

<br>


### 하이퍼텍스트 전송 프로토콜(HyperText Transfer Protocol)

- 인터넷에서 데이터를 주고받을 수 있게 해주는 프로토콜이다.

- HTTP를 통해서 HTML, JSON, XML 과 같은 형태의 데이터를 주고받을 수 있게 해주는 애플리케이션 레이어 프로토콜이다.

- 클라이언트가 요청을 생성하기 위한 연결을 열고 응답 받을때까지 대기하는 전통적인 클라이언트-서버 모델을 따른다.

<br>

### 동작 요약

`클라이언트` 가 브라우저에서 어떤 서비스 URI를 통해 `서버`에 요청을 한다.

서버는 요청에 대한 적절한 결과를 응답해준다.


<br>


### 특징

**무상태성**

연결을 끊는 순간 클라이언트와 서버의 통신은 끝난 것이며 상태 정보를 유지하지 않는다.


**비연결성**

클라이언트가 요청을 서버에 보낸 후 서버가 응답하면 연결이 끊어지는 것을 말함

<br>


### HTTP Method

`GET` , `POST`, `PUT`, `PATCH`, `DELETE` `HEAD`, `OPTIONS` 등이 있다.


**PUT vs PATCH**

- `PUT`은 객체 자체를 변경하는 메소드

- `PATCH` 는 객체의 특정 부분을 수정하는 메소드

<br>

### Status Code


- 100번대는 요청을 받고 처리중인 상태

- 200번대는 요청이 정상 처리된 상태

- 300번대는 리다이렉션이 수행되어야 하는 상태로 location 헤더가 있다면 해당 위치로 이동하도록 함

- 400번대는 클라이언트 오류 상태

- 500번대는 서버측 오류 상태


<br>

### HTTP 메시지 구조

**요청**

```
[HTTP Method] [Request URI] [HTTP Version]
[Headers]
[Request Body]
```

```
HTTP Method: HTTP 요청의 종류를 나타냄
Request URI: 요청할 리소스의 위치를 나타내며 일반적으로 URL이 사용된다.
HTTP Version: 사용하는 HTTP 버전을 나타낸다.
Headers: 요청에 대한 메타데이터를 포함한다. 예를 들어, 클라이언트 브라우저 정보, 인증 정보, 캐시 정보 등이 포함된다.
Request Body: POST나 PUT 등의 메서드에서 사용되며 서버에 보낼 데이터가 포함된다.
```

**응답**

```
[HTTP Version] [Status Code] [Reason Phrase]
[Headers]
[Response Body]
```

```
Status Code: HTTP 응답의 상태를 나타내는 3자리 숫자를 표현.
HTTP Version: 사용하는 HTTP 버전
Reason Phrase: 상태 코드에 대한 설명
Headers: 서버에서 반환하는 데이터 유형, 캐시 유효 기간 등 서버의 메타데이터
Response Body: 서버에서 클라이언트로 반환되는 데이터
```




### HTTPS

- HTTPS (Hypertext Transfer Protocol Secure)는 SSL을 사용하는 HTTP 프로토콜의 보안 버전이다.


> SSL: Secure Sockets Layer(전송 계층 보안) 는 컴퓨터 네트워크 통신 보안 암호 규약이다. 통신 패킷을 암호화 함


- `HTTP` 는 데이터 전송 시 평문으로 전송하는데 제 3자에 의해 조회될 수 있는데 이를 암호화 하도록 한 것이 `HTTPS` 임

- `SSL`  프로토콜을 통해 데이터를 암호화하는데 암호화 방식은 `공개키 암호화` 와 `대칭키 암호화` 방식을 같이 사용한다.

- 암호화 덕에 보안상 안전해지나 인증서 유지 비용이 발생하고 `HTTP` 에 비해 느리다.


<br>


### HTTPS 를 적용해 통신하는 과정

(1) 사이트가 공개키와 개인키를 만들어 `CA(인증기관)` 에 자신의 정보와 공개키 관리를 요청한다.

(2) CA가 사이트의 데이터를 검증하고 CA의 개인키로 제출한 데이터를 암호화하여 인증서를 만든다. 

(3) CA가 웹 브라우저에 자신의 공개키를 제공한다.

(4) 사용자가 사이트에 접속하면 사이트는 인증서를 사용자에게 보낸다.

(5) 웹 브라우저는 CA의 공개키를 이용해 인증서를 해독한다.

(6) 얻은 사이트의 공개키로 대칭키를 암호화해서 다시 사이트에 보낸다.

(7) 사이트는 개인키로 암호문을 해독하고 대칭키를 얻는다.

(8) 대칭키로 데이터를 암호화하여 주고받는다.




