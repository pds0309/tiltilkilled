

## What is GraphQL

> 페이스북이 2012년에 개발한 데이터 질의어로 REST 및 부속 웹서비스 아키텍쳐를 대체할 수 있다.

- API를 위한 쿼리 언어이자 서버측 런타임으로 클라이언트에게 요청한 만큼 데이터를 제공하는데 우선순위를 둔다.

- API를 더욱 빠르고 유연하며 개발자 친화적으로 만들기 위해 설계되었다.

- 기존 쿼리에 영향을 미치지 않고 필드를 추가하거나 폐기할 수 있는 유연성을 부여


<br>


### 기존의 API 호출

- 클라이언트 개발 시 서버의 API를 호출하여 구성하는데 보통 하나의 View 에 여러 API 를 호출하는 형태일 것이다.
	- 다양하게 조합해 사용할 일이 있을 것이고 또는 순차적인 처리가 필요한 경우도 있는 등 페이지가 복잡해질 수록 데이터 호출 과정도 복잡해짐
	- 클라이언트 자체에서 API 사용에 대한 로직(조합 구성 등)을 구성해야되는 불편함이 있음

<br>

### GraphQL

- GraphQL 은 클라이언트에서 지가 필요한 데이터만을 쿼리해올 수 있음

- 필요한 데이터에 대한 쿼리를 선언해 GraphQL에게 전송하면 쿼리를 해석해 서버에서 필요한 데이터를 가져와 데이터를 반환해줌

- SQL 처럼 쿼리를 선언해 원하는 값들에 맞는 데이터를 가져옴

<br>

### 특징

- 서버는 데이터를 주고 클라이언트는 질의를 하여 요구되는 데이터만 가져오는데 내부적으로 데이터를 처리하는 역할을 하는 이가 있는 형태
	- GraphQL 이라는 서비스 브로커 레이어가 서버와 클라이언트 사이에 있는 형태로 GraphQL 에서 절차적 처리를 수행함
	- 클라이언트에서의 데이터 통신 구현은 쉽지만 서버에서 하는 일이 커짐

- 모듈화
	- 유지보수는 쉬워지나 구현은 복잡해짐
	- 백엔드 서버에 대한 변경 없이 앱의 UI 를 유연하게 구성하고 확장, 보수 할 수 있다.


<br>

### GraphQL vs REST API 차이 그림 하나로 이해하기


![graphql1](https://user-images.githubusercontent.com/76927397/164504878-9fd39db9-0850-4650-bbd7-e66e3e4fd79c.JPG)




<br>


### 요약

- GraphQL은 REST API 가 필요한 정보들에 대한 요청을 한 번에 모두 받아올 수 없었고 존재하는 자원에 대한 요청을 통해 얻는 정보가 딱 제한이 되어있었던 것과 비교된다.
	- UnderFetching & OverFetching 을 해결한다.

- 앱의 특성, 크기에 따라 GraphQL을 도입할 경우 클라이언트 개발 속도가 향상되고 유지보수가 쉬워질 수 있다.

- 정해진 치즈버거만 팔면 `REST API`, 구매자가 버거 내용물을 커스텀 할 수 있는 형태의 치즈버거를 팔거면(살 때 마다 다르면) `GraphQL`



<br>


### Ref

- [RedHat](https://www.redhat.com/ko/topics/api/what-is-graphql)

- [GraphQL vs RestAPI](https://graphcms.com/blog/graphql-vs-rest-apis)
