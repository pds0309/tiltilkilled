#### AJAX

**Asynchronous Javascript and XML**

- 자바스크립트를 통해 데이터를 비동기로 처리하겠다

* xml

  - 태그를 사용해 데이터를 표현
  - 태그로 데이터에 대한 메타데이터를 표현해주는 것이다.
  - 데이터에 비해 메타데이터가 너무 크다 , 태그같은 것들 때문에
    - 네트워크로 오갈 때 손해

* JSON
  - KEY:VALUE

- 동기
  - Client가 요청하면 Server가 실행해 응답한다.
  - 와야 간다. (탁구 치는 것 처럼)
  - 단점 : 응답해야하는 데이터가 클 경우 느림 - 성능 안좋음
  - 장점 : 요청에 대한 정확한 응답이 보장된다.
    - **결제 시스템**은 요청-응답 과정 결과가 무결해야함
  - 요약
    - 성능은 느릴 수 있지만 데이터 무결성은 보장받는다.

* 비동기
  - Client가 요청한다.
    - Server는 요청에 대해 필요한 처리를 실행한다.
    - Server에서 작업이 완료되어 응답하기 전에 Client도 나름의 필요한 작업을 실행한다.
    - Server 에서 응답결과를 주면 Client에서 받는다.
  - Client 입장에서 두 개념이 필요함
    - 서버로부터 **응답을 받기 전에도 자신의 필요한 작업을 처리**하는 부분
    - 서버로부터 **요청에 대한처리 응답결과를 받았을 때 결과를 받는** 부분
  - 장점 : 병렬적으로 여러 처리를 하기 때문에 성능이 좋아진다.
    - 검색, 맵 , 메일
  - 단점 : 데이터 무결성이 보장되지는 않는다.
    - (크로스도메인)CORS 가 안됨
      - 같은 도메인 선상에서만 ajax 통신이 된다.
        - 보안 때문에 그렇다.

- 동기

  - 브라우저의 요청에 대한 서버의 응답이 html 이다.
  - **전체 화면**을 응답해주는 것이다.
    - UI/UX 가 안좋고 성능도 안좋음

* 비동기
  - 브라우저의 요청에 대한 서버의 응답이 data 이다.
    - data
      - plain data
      - xml
      - JSON
  - 화면을 위한 **일부의 데이터**를 응답해주는 것이다.
    - 불필요 업데이트를 방지하여 성능과 UI/UX 가 좋음

**CORS란**

- Cross-Origin Resource Sharing
- 추가적인 http 헤더를 사용해 한 애플리케이션에서 다른 출처의 자원에 접근할 수 있도록 하는 권한을 부여하도록 브라우저에게 알려주는 것

> 교차 출처 요청의 예시: https://domain-a.com의 프론트 엔드 JavaScript 코드가 XMLHttpRequest를 사용하여 https://domain-b.com/data.json을 요청하는 경우.

- 보안상의 이유로 브라우저는 스크립트에서 시작한 교차 출처 http 요청을 제한함

> XMLHttpRequest와 Fetch API는 동일 출처 정책을 따릅니다. 즉, 이 API를 사용하는 웹 애플리케이션은 자신의 출처와 동일한 리소스만 불러올 수 있으며, 다른 출처의 리소스를 불러오려면 그 출처에서 올바른 CORS 헤더를 포함한 응답을 반환해야 합니다.

- [REF](https://developer.mozilla.org/ko/docs/Web/HTTP/CORS)
