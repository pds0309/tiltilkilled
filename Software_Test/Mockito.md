

## Mockito

<br>


### Mock

- 진짜 있는 객체처럼 동작하게 직접 객체의 행동을 개발자가 관리할 수 있게 해주는 객체


<br>

### Mockito

- Mock 객체를 쉽게 만들고 관리하고 검증할 수 있는 방법을 제공해주는 프레임워크

- 테스트하기 어려운 외부 서비스가 의존되어있거나 단위 테스트 시 모듈간 의존도를 낮추기 위해 사용

- boot의 경우 starter-test 에 기본으로 의존성 들어감

<br>


**테스트를 위한 주요 사항**

- Mock을 어떻게 만들까?

- Mock을 어떻게 동작시킬지 관리한다

- Mock의 행동을 검증한다.



<br>

**만들기**

`org.mockito`

- 가짜 객체에 @Mock 어노테이션 선언 및 `MockitoExtension` 을 활용한 확장
- `Mockito.mock()` 으로 가짜 객체 생성

<br>

**사용자 정의로 Mock 객체 동작시키기 - Stubbing**

- 기본적으로 모든 Mock 객체는 Null, default 기본타입 값, Emtpy, 무동작 상태임
- Mock 객체를 조작해 특정값을 리턴하거나 예외를 던지게 한다거나 하게끔 `상태`를 주고 이를 검증할 수 있게 만들어 준다.

<br>

**Mock 객체 행동 검증하기 - Mocking**

- 리턴이 없는 등 외부(Mock) 객체의 행동의 결과를 검증하기 힘들때 `동작`했는지 안했는지를 검증할 수 있음.

- 몇번 호출되었는지, 어떤 순서로 호출되었는지, 특정 시간 이내에 호출되었는지, 아무일도 없는지 등을 검증할 수 있다.


<br>


### BDDMockito

> BDD(행위주도개발)란 애플리케이션이 어떻게 행동해야하는지에 대한 공통된 이해를 구성하는 방법으로 TDD에서 창안됨

- Given/When/Then

- Mockito에서 BDD 스타일 API 지원해줌

- 동작은 Mockito와 똑같지만 BDD 스타일의 네이밍을 사용해 좀 더 테스트 의도가 명확하게 드러날 수 있다.

