


## Hooks

- react 16 버전에 도입

- `함수형 컴포넌트` 에서도 상태 관리를 할 수 있는 `useStae` , 렌더링 직후 작업을 설정하는 `useEffect` 등의 기능을 제공해 다양한 작업을 할 수 있게 해주는 것

- 클래스 바탕의 코드 작성 필요 없다.

- `Hook` 구현의 핵심 원리는 `Closure` 이기 때문에 이에 대한 이해 필요


<br>

### 왜 나옴?

**컴포넌트 사이에서 상태 로직 재사용**

- `Hook` 을 사용해 컴포넌트로부터 상태 관련 로직을 추상화할 수 있다.
	- 독립적인 테스트와 재사용 가능

- `Hook` 은 계층의 변화 없이 상태 관련 로직을 재사용할 수 있게 해줌

**Class 없는 코드**

- 자바스크립트 Class 어려움

- 함수형 프로그래밍을 통해 생산성 증가

<br>

### 종류

**State Hook**

- useState
	- 현재의 상태 값과 이를 업데이트 하는 함수의 쌍을 제공해줌
	- 상태값(state) 는 컴포넌트가 리렌더링 되어도 유지된다.

<br>


**Effect Hook**

- 컴포넌트 내에서 Side Effect 를 수행할 수 있게 해줌

- 컴포넌트가 렌더링 될 때 마다 또는 특정 `dependency`의 변경마다 SideEffect를 실행해준다.

> clean-up

- 메모리 누수 방지를 위해 매우 중요함

- `useEffect()` 내에서 return 을 통해 effect 이후 어떻게 정리할 것인지 표시해주면됨

- 컴포넌트가 마운트 해제될 때 정리를 실행함

<br>


### 규칙

**최상위에서만 Hook 을 호출**

- 반복문, 조건문 혹은 중첩 함수 내에서 Hook 호출하지 말 것

- `Early Retrun` 실행 전에 **항상 React 최상위에서 Hook 이 호출되어야 함**
	- 컴포넌트가 렌더링 될 때마다 항상 동일한 순서로 훅이 호출되는 것이 보장되기 때문
	- 컴포넌트에서 훅들이 여러번 호출되는 와중에도 올바르게 상태를 유지할 수 있게 해줌

- 조건부 실행을 원하면 훅 내부에 조건문을 넣어라


**React 함수 내에서만 Hook을 호출** 

- 자바스크립트 함수에서 호출하지 말 것

- React 함수 컴포넌트에서 호출

- Custom Hook 에서 호출


