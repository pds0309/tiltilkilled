

### 순수함수

> 입력에 대해서만 의존해 동일한 입력에 대해 동일한 결과를 반환하는 함수


**아주 간단한 예시(순수함수)**

```javascript
function(num: number) {
  return num * num;
}
```
> `num`이라는 input에 대해 항상 `num`*`num`이라는 값을 리턴한다. 따라서 순수함수다.


**아주 간단한 예시(안순수함수)**

```javascrip
let a = 5;
function(num: number) {
  return a * num;
}
```

> `a`라는 외부 값이 참조되어 사용됨으로써 함수의 동작이 `a`에 의존되어있으며 `a`가 가지는 상태에 따라 함수의 리턴이 달라진다.

<br>

**순수해지려면**

- 동일한 입력에 대해 늘 동일한 출력을 반환한다.
- 함수 내부에서 외부 변수를 변경하거나 참조하지 않는다.
- 순수함수를 호출해도 외부의 특정 상태가 변경되지 않는다.

<br>

**순수함수는 불변성을 보장한다**

외부에서 순수함수에서 사용되는 입력과 출력을 변경할 수 없다.
따라서 순수함수는 의도한 `input`에 대한 `output`을 만들기가 쉬워지며 이는 곧 테스트코드 작성도 쉬워진다.

`변할 수 있는` 특정 상태 데이터가 함수 내부에서 사용될 경우 `input`이 같아도 `output`이 달라질 수 있으며
이런 상태가 특히 외부로부터 얻어야하는 동적인 데이터라면 예상하지 못한 결과를 만들 수 있다.(`side effect`)

`예측 할 수 있다`는 것은 관리하기가 쉽다는 것을 말하며 디버깅과 테스트가 용이해지고 프로그램의 안정성이 높아진다.

이곳 저곳에서 사용되는 가변하는 상태를 포함한 함수라면 외부의 환경이나 해당 상태를 조작하는 함수의 호출 순서에 따라 결과가 달라질 수 있기 때문에

의도하지 않은 결과가 발생할 수 있다.

<br>

### 장점

**테스트 코드 작성 및 단위 테스트가 쉽다**

외부 의존도가 없어 테스트 코드 작성이 쉬워지고 이는 유지보수성과 신뢰도를 높인다.

단위테스트가 쉬운 함수라는 것은 역할이 하나거나 적은 함수일 확률이 높아지며 이러면 함수가 간결해지고 읽기 좋아질 것이다.

그렇다면 `입력`에 대한 `출력`이 쉽게 보장되기 때문에 함수들을 조합하여 사용해도 예측할 수 있게 된다.

<br>

### 단점

코드가 더러워지고 비효율적이게 될 수도 있다.

입력에 대한 출력을 보장하려다가 인자 수가 매우 늘어날 가능성이 있고 이는 함수 개발과 사용 비용을 증가시킬 수 있다.

오히려 외부 상태를 변경해야 한다면 개발이 더 어려워질 수 있으며 DOM조작 같은 구현 시에는 순수함수 구현이 어렵다.


<br>





